
<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>小工具/模块 - Warp Framework 7 中文文档</title>
        <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
        <link id="data-uikit-theme" rel="stylesheet" href="css/uikit.almost-flat.css">
        <link rel="stylesheet" href="css/docs.css">
        <link rel="stylesheet" href="css/highlight.css">

        <script src="js/jquery.js"></script>
        <script src="js/uikit.min.js"></script>
    </head>

    <body class="tm-background">

        <nav class="tm-navbar uk-navbar uk-navbar-attached">
            <div class="uk-container uk-container-center">

                <a class="uk-navbar-brand uk-hidden-small" href="index.html"><img class="uk-margin uk-margin-remove" src="images/logo.svg" width="90" height="30" title="UIkit" alt="UIkit"></a>

                <ul class="uk-navbar-nav uk-hidden-small">
                    <li><a href="Setup-a-Joomla-Template.html">开始使用</a></li>
                    <li class="uk-active"><a href="File-structure.html">主题开发</a></li>
                    <li><a href="Installation-issues.html">排除故障</a></li>
                    <li><a href="showcase/index.html">案例展示</a></li>
                    <li><a href="http://www.getuikit.net" rel="nofollow" target="_blank"><i class="uk-icon-send-o"></i> UIkit中文网</a></li>
                </ul>

                <a href="#tm-offcanvas" class="uk-navbar-toggle uk-visible-small" data-uk-offcanvas></a>

                <div class="uk-navbar-brand uk-navbar-center uk-visible-small"><img class="uk-margin uk-margin-remove" src="images/logo.svg" width="90" height="30" title="UIkit" alt="UIkit"></div>

            </div>
        </nav>

        <div class="tm-middle">
            <div class="uk-container uk-container-center">

                <div class="uk-grid" data-uk-grid-margin>
                    <div class="tm-sidebar uk-width-medium-1-4 uk-hidden-small">

                        <ul class="tm-nav uk-nav" data-uk-nav>

                            <li class="uk-nav-header">开始使用</li>
                            <li><a href="Setup-a-Joomla-Template.html">设置Joomla模板</a></li>
                            <li><a href="Setup-a-WordPress-Theme.html">设置Wordpress主题</a></li>
                            <li><a href="How-to-update.html">如何更新</a></li>
                            <li><a href="Theme-Settings.html">主题设置</a></li>
                            <li><a href="Customizer.html">定制工具</a></li>
                            <li><a href="Layout-Settings.html">布局设置</a></li>
                            <li><a href="Widget-Module-Settings.html">小工具/模块设置</a></li>
                            <li><a href="Menu-Settings.html">菜单设置</a></li>
                            <li><a href="Theme-Information.html">主题信息</a></li>
                            <li class="uk-nav-header">开发者</li>
                            <li><a href="File-structure.html">文件结构</a></li>
                            <li><a href="Theme-layout.html">主题布局</a></li>
                            <li class="uk-active"><a href="Widgets-Modules.html">小工具/模块</a></li>
                            <li><a href="Customization.html">自定义</a></li>
                            <li><a href="Config.html">Config.xml</a></li>
                            <li><a href="Languages.html">语言</a></li>
                            <li><a href="Error-Pages.html">错误页面</a></li>
                            <li><a href="LESS-Customization.html">LESS自定义</a></li>
                            
                            <li class="uk-nav-header">排除故障</li>
                            <li><a href="Installation-issues.html">安装问题</a></li>
                            <li><a href="File-permission-issues.html">文件权限问题</a></li>
                            <li><a href="JavaScript-errors.html">JavaScript 错误</a></li>
                            <li><a href="Disable-the-responsive-layout.html">禁用响应式布局</a></li>
                            <li><a href="Feature-and-Compatibility-Overview.html">功能和兼容性概述</a></li>
                            <li><a href="FAQ.html">常见问题FAQ</a></li>

                        </ul>

                    </div>
                    <div class="tm-main uk-width-medium-3-4">

                        <article class="uk-article">

                            

                            

<h1 class="title">小工具/模块</h1>

<p class="article-lead">学习如何为Wordpress的小工具和Joomla模块创建新的位置、布局和样式。</p>
                            <hr class="uk-article-divider">

<p>在主题中，为模块或小工具添加新的位置是相当简单的事。你必须为新的位置命名，并设定它应当在<a href="Theme-layout.html">主题布局</a>的什么位置被渲染。</p>

<h2>添加新的位置</h2>

<p>将新的位置添加到Joomla的<code>templateDetails.xml</code>或Wordpress的<code>theme.xml</code> ，让你的内容管理系统知道它的存在。新的选项会在主题设置中显示。</p>

<pre><code>&lt;position&gt;top-a&lt;/position&gt;
&lt;position&gt;MY-POSITION&lt;/position&gt;
&lt;position&gt;bottom-a&lt;/position&gt;</code></pre>

<h3>添加设置</h3>

<p>使用<code>settings</code>属性，使你可以通过设置选项控制新增的位置中小工具的外观。在主题设置中的<em>小工具/模块（Modules/Widgets）</em>面板，你可以看到这些选项。可用的值有 <code>class</code>, <code>style</code>, <code>icon</code>, <code>badge</code> 和 <code>display</code>。另外，Wordpress中还有<code>title</code> 和 <code>assignment</code>。</p>

<pre><code>&lt;!-- 所有选项可用 --&gt; 
&lt;position&gt;MY-POSITION&lt;/position&gt;

&lt;!-- 无选项可用 --&gt; 
&lt;position settings=""&gt;MY-POSITION&lt;/position&gt;

&lt;!-- 只有style和badge选项可用 --&gt; 
&lt;position settings="style badge"&gt;MY-POSITION&lt;/position&gt;</code></pre>

<p><span class="uk-badge">注意</span> 如果没有添加<code>settings</code>属性，该位置将自动显示所有可以选项。如果你使用了未添加任何值的<code>settings</code>属性，它将不会在<em>模块</em> 或 <em>小工具</em>面板中显示。</p>

<p>了解更多关于<code>settings</code>的信息，见<a href="Widget-Module-Settings.html">小工具</a>文档。 </p>

<h2>位置的主题设置</h2>

<p>编辑<code>config.xml</code>，为主题设置中的<em>设置(Setting)</em> 和 <em>布局(Layouts)</em>面板添加关于位置的更多选项。</p>

<h3>为位置内的小工具设置默认的渲染</h3>

<p>在<em>Settings</em>中，通过新添加一个<code>&lt;row&gt;</code>元素到表格field <code>panel_default</code>，新建的位置将有选项可以选择默认的样式。</p>

<pre><code>&lt;fields name="Settings"&gt;
    ...
    &lt;field type="table" name="panel_default"&gt;
        &lt;rows label="Position"&gt;
            &lt;row&gt;MY-POSITION&lt;/row&gt;
            ...</code></pre>

<h3>为位置设置默认的布局渲染</h3>

<p>在<em>Layouts</em>中，通过添加一个<code>&lt;row&gt;</code>元素到表格field <code>grid</code>，新建的位置将会有选项用于设置布局、响应式行为和分割线。</p>

<pre><code>&lt;fields name="Layouts"&gt;
    ...
    &lt;field type="table" name="grid"&gt;
        &lt;rows label="Position"&gt;
            &lt;row&gt;MY-POSITION&lt;/row&gt;
            ...</code></pre>


<p>查看<a href="Config.html">Config.xml</a>，了解更多信息。</p>


<h2>渲染位置</h2>

<p>在<code>/layouts/theme.php</code>中，提供了主题的基础代码。在此，你可以设置小工具位置在何处被渲染，还可以新添加位置。</p>

<pre>
<code>&lt;?php if ($this['widgets']-&gt;count('MY-POSITION')):?&gt;
    &lt;section class="uk-grid" data-uk-grid-match="{target:'> div > .uk-panel'}"&gt;
        &lt;?php echo $this['widgets']-&gt;render('MY-POSITION', array('layout'=&gt;$this['config']-&gt;get(
        'grid.MY-POSITION.layout'))); ?&gt;
    &lt;/section&gt;
&lt;?php endif;?&gt;</code>
</pre>

<p><span class="uk-badge">注意</span> 如果你已经在<code>config.xml</code>中声明了选项，只需添加<code>$this['config']->get('grid.MY-POSITION.layout')</code>即可。</p>

<p>查看<a href="Theme-layout.html">主题布局</a>，更好地理解小工具渲染方法。</p>

<h3>添加CSS类名的高级方法</h3>

<p>如果你新建的位置已经在<code>config.xml</code>里，作为<code>&lt;row&gt;</code>被声明在表格 field <code>grid</code>中，我们提供一种更简单的方法来添加CSS类名。只需要添加<code>&lt;?php echo $grid_classes['MY-POSITION']; ?&gt;</code>到<code>class</code>属性。这将赋予你的位置新的选项，用于设置布局、响应式行为和分割线。</p>

<pre>
<code>&lt;?php if ($this['widgets']-&gt;count('MY-POSITION')) : ?&gt;
    &lt;section class="&lt;?php echo $grid_classes['MY-POSITION']; ?&gt;" data-uk-grid-match="{target:'&gt; div &gt; .uk-panel'}"
    data-uk-grid-margin&gt;&lt;?php echo $this['widgets']-&gt;render('MY-POSITION', array('layout'=&gt;
    $this['config']-&gt;get('grid.MY-POSITION.layout'))); ?&gt;&lt;/section&gt;
&lt;?php endif; ?&gt;</code>
</pre>
                            

                        </article>

                    </div>
                </div>

            </div>
        </div>

        <div class="tm-footer">
            <div class="uk-container uk-container-center uk-text-center">

                <ul class="uk-subnav uk-subnav-line uk-flex-center">
                    <li><a href="http://yootheme.com/themes/documentation?view=docs" rel="nofollow">英文文档</a></li>
                    <li><a href="https://github.com/yootheme/docs" rel="nofollow">Github</a></li>
                    <li><a href="https://twitter.com/getuikit" rel="nofollow">官方Twitter</a></li>
                    <li><a href="http://weibo.com/getuikit" rel="nofollow">中文微博</a></li>
                     
                </ul>

                <div class="uk-panel">
                    <p>由<a href="http://www.getuikit.net/">UIkit中文网</a>翻译</p>
                    <a href="index.html"><img class="uk-margin uk-margin-remove" src="images/logo.svg" width="90" height="30" title="UIkit" alt="UIkit"></a>
                </div>

            </div>
        </div>

        <div id="tm-offcanvas" class="uk-offcanvas">

            <div class="uk-offcanvas-bar">

                <ul class="uk-nav uk-nav-offcanvas uk-nav-parent-icon" data-uk-nav="{ multiple: true }">
                    <li ><a href="#">Warp 中文文档</a>
                        
                    <li class="uk-parent"><a href="#"><i class="uk-icon-wrench"></i> 开始使用</a>
                        <ul class="uk-nav-sub">
<li class="uk-active"><a href="Setup-a-Joomla-Template.html">设置Joomla模板</a></li>
                            <li><a href="Setup-a-WordPress-Theme.html">设置Wordpress主题</a></li>
                            <li><a href="How-to-update.html">如何更新</a></li>
                            <li><a href="Theme-Settings.html">主题设置</a></li>
                            <li><a href="Customizer.html">定制工具</a></li>
                            <li><a href="Layout-Settings.html">布局设置</a></li>
                            <li><a href="Widget-Module-Settings.html">小工具/模块设置</a></li>
                            <li><a href="Menu-Settings.html">菜单设置</a></li>
                            <li><a href="Theme-Information.html">主题信息</a></li>
                        </ul>
                    </li>
                    <li class="uk-parent"><a href="#"><i class="uk-icon-th-large"></i> 开发者</a>
                        <ul class="uk-nav-sub">
                            <li><a href="File-structure.html">文件结构</a></li>
                            <li><a href="Theme-layout.html">主题布局</a></li>
                            <li><a href="Widgets-Modules.html">小工具/模块</a></li>
                            <li><a href="Customization.html">自定义</a></li>
                            <li><a href="Config.html">Config.xml</a></li>
                            <li><a href="Languages.html">语言</a></li>
                            <li><a href="Error-Pages.html">错误页面</a></li>
                            <li><a href="LESS-Customization.html">LESS自定义</a></li>
                        </ul>
                    </li>
                    <li class="uk-parent"><a href="#"><i class="uk-icon-bars"></i> 排除故障</a>
                        <ul class="uk-nav-sub">
                            <li><a href="Installation-issues.html">安装问题</a></li>
                            <li><a href="File-permission-issues.html">文件权限问题</a></li>
                            <li><a href="JavaScript-errors.html">JavaScript 错误</a></li>
                            <li><a href="Disable-the-responsive-layout.html">禁用响应式布局</a></li>
                            <li><a href="Feature-and-Compatibility-Overview.html">功能和兼容性概述</a></li>
                            <li><a href="FAQ.html">常见问题FAQ</a></li>
                        </ul>
                    </li>
                    
                    <li><a href="showcase/index.html">案例展示</a></li>
                    <li><a href="http://www.getuikit.net" rel="nofollow"><i class="uk-icon-send-o"></i> UIkit中文网</a></li>
                </ul>

            </div>

        </div>

    </body>
</html>
